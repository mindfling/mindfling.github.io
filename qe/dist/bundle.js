(()=>{"use strict";(()=>{const e=document.querySelectorAll(".callback-btn"),t=document.querySelector(".button-services"),o=document.querySelector(".modal-overlay"),n=document.querySelector(".modal-callback"),s=document.querySelector("#services"),i=(s.querySelectorAll(".element"),()=>{o.style.display="block",n.style.display="block",n.classList.remove("animate__fadeOut"),n.classList.add("animate__animated","animate__fadeIn")}),r=()=>{n.classList.add("animate__animated","animate__fadeOut"),n.classList.remove("animate__fadeIn"),setTimeout((()=>{n.style.display="none",o.style.display="none"}),500)};e.forEach((e=>{e.addEventListener("click",(e=>i()))})),t.addEventListener("click",(e=>i())),s.querySelectorAll(".element").forEach((e=>{e.addEventListener("click",(e=>{i()}))})),o.addEventListener("click",(e=>{r()})),n.querySelector(".modal-close").addEventListener("click",(e=>{r()}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item");t.length,console.log("slider: ",e),console.log("slides: ",t);let o,n=0;const s=()=>{t.forEach(((e,t)=>{t==n?e.classList.add("item-active"):e.classList.remove("item-active")})),n<2?n++:n=0};s(),o=setInterval((()=>{s()}),3e3)})(),(()=>{const e=document.querySelector(".accordeon-section").querySelector(".accordeon").querySelectorAll(".element");e.forEach((t=>{const o=t.querySelector(".title");t.querySelector(".element-content").classList.add("animate__animated","animate__fadeInDown","animate__faster"),o.addEventListener("click",(t=>{const o=t.target.closest(".element");e.forEach((e=>{e===o?e.classList.toggle("active"):e.classList.remove("active")}))}))}))})(),(()=>{const e=document.querySelector(".top-menu"),t=document.querySelector(".header-wrapper").getBoundingClientRect().height;e.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const o=e.target.getAttribute("href"),n=document.querySelector(o).getBoundingClientRect().top;window.scrollBy({top:n-t,behavior:"smooth"})}))}))})(),(()=>{console.log("hello toggle");const e=document.querySelector(".mob-menu-btn");console.log("mobMenuBtn: ",e);const t=document.querySelector(".mobile-menu"),o=document.querySelector(".overlay"),n=document.querySelector(".mobile-menu-close");console.log("mobileMenuClose: ",n),n.addEventListener("click",(e=>{console.log("close mobile menu",e.target),t.classList.remove("open")})),o.addEventListener("click",(e=>{console.log("close mobile menu by overlay",e.target),t.classList.remove("open")})),e.addEventListener("click",(e=>{e.target.closest(".mob-menu-btn"),t.classList.add("open")}))})(),(()=>{const e=document.querySelector("#services"),t=document.querySelector(".main-wrapper"),o=document.querySelector(".header-wrapper").getBoundingClientRect().height,n=document.querySelector(".up");n.classList.add("animate__animated"),n.classList.add("animate__bounceOutDown"),n.addEventListener("click",(e=>{e.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"})})),document.addEventListener("scroll",(t=>{e.getBoundingClientRect().top<o+1?(n.classList.remove("animate__bounceOutDown"),n.classList.add("animate__bounceInUp")):(n.classList.add("animate__bounceOutDown"),n.classList.remove("animate__bounceInUp"))}))})(),(()=>{const e="Идет отправка ...",t=document.querySelector("#callback").querySelector("form"),o=t.querySelector('input[name="fio"]'),n=t.querySelector('input[name="tel"]'),s=document.createElement("div");s.textContent=e,s.style.cssText="font-size:1.5rem; font-weight:bold; color:#4e4e4e; text-align:center; padding: 5px 0;",o.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/((?<=^)\s+)|((?<=\s)\s+)|([^а-яА-ЯёЁ\s])/gi,"")})),n.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/([^\d\+])|((?<=[\d\D])\++)|((?<=[\d\D]{12,})[\d\D])/g,"")})),t.addEventListener("submit",(o=>{o.preventDefault(),t.appendChild(s),s.textContent=e;const n=new FormData(t);let i={};n.forEach(((e,t)=>{i[t]=e})),(e=>fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(i).then((e=>{if(200!==e.status)throw new Error("Server response not 200 !!!");s.textContent="Спасибо! Ваша заявка отправлена!",console.log("Server success")})).catch((e=>{s.textContent="Ошибка! Что-то пошло не так :(",console.error("Server error",e)})),(e=>{setTimeout((()=>{e.querySelectorAll('input[type="text"]').forEach((e=>{e.value=""}))}),1e3),setTimeout((()=>{s.remove()}),7e3)})(t)}))})(),new class{constructor({main:e,wrap:t,next:o,prev:n,position:s=0,slidesToShow:i=3,infinity:r=!0,animate:l=!1}){this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.next=document.querySelector(o),this.prev=document.querySelector(n),this.slides=document.querySelector(t).children,this.slidesToShow=i,this.options={position:s,infinity:r,widthSlide:Math.floor(100/this.slidesToShow)}}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyle(){const e=document.createElement("style");e.id="sliderCarousel-style",e.textContent=`\n.glo-slider {\n    overflow: hidden !important;\n}\n.glo-slider__wrap {\n    display: flex !important;\n    justify-content: space-between !important;\n    align-items: center !important;\n    transition: transform 0.5s !important;\n    will-change: transition !important;\n}\n.glo-slider__item {\n    flex: 0 0 ${this.options.widthSlide}% !important;\n    margin: auto 0 !important;\n}\n.glo-slider__prev,\n.glo-slider__next {\n    margin: 0 12px;\n    border: 12px solid transparent;\n    background: transparent;\n}\n.glo-slider__next {\n    border-left-color: #19b5fe;\n}\n.glo-slider__prev {\n    border-right-color: #19b5fe;\n}\n\n.glo-slider__next:hover,\n.glo-slider__prev:hover,\n.glo-slider__next:focus,\n.glo-slider__prev:focus {\n    background: transparent;\n    outline: transparent;\n}\n`,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}}({main:".services-elements",wrap:".services-carousel",next:".arrow-right",prev:".arrow-left",slidesToShow:3}).init()})();